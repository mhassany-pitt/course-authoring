{
  "id": "6954bccff9187b06cf8376f9",
  "user_email": "moh70@pitt.edu",
  "status": "public",
  "listed_at": "1970-01-01T00:00:00.000Z",
  "updated_at": "2026-01-17T20:34:31.407Z",
  "tags": [],
  "identity": {
    "id": "call_by_reference2",
    "title": "Call By Reference2",
    "type": "Example"
  },
  "links": {
    "demo_url": "https://acos.cs.vt.edu/html/annotated/acos-annex-cpp/call_by_reference2"
  },
  "attribution": {
    "created_at": "1970-01-01T00:00:00.000Z",
    "provider": "WebEx",
    "publisher": "",
    "authors": [
      {
        "name": "Administrator",
        "affiliation": ""
      }
    ]
  },
  "languages": {
    "content_language": "en",
    "programming_languages": [
      "C++"
    ]
  },
  "content": {
    "prompt": "",
    "source_code": "/*\tCalculate the tax due or the refund for a family based\r\n\ton the following imaginary formula.\r\n\t1. For each dependent deduct $1,000 from income.\r\n\t2. Determine tax rate from the following brackets:\r\n\t       bracket    taxable income       tax rate\r\n\t          1             <= 10000           2%\r\n\t          2        10001 - 20000           5%\r\n\t          3        20001 - 30000           7%\r\n\t          4        30001 - 50000          10%\r\n\t          5        50001 and up           15%\r\n\tThen print the amount of tax or the refund.\r\n\r\n\t   Written by: \r\n\t   Date: \r\n*/\r\n#include <stdio.h>\r\n\r\n#define LOWEST  0000000.00\r\n#define HIGHEST 1000000.00\r\n\r\n#define LIMIT1    10000.00\r\n#define LIMIT2    20000.00\r\n#define LIMIT3    30000.00\r\n#define LIMIT4    50000.00\r\n\r\n#define RATE1 02\r\n#define RATE2 05\r\n#define RATE3 07\r\n#define RATE4 10\r\n#define RATE5 15\r\n\r\n#define DEDN_PER_DPNDNT 1000\r\n\r\n//\tFunction Declarations \r\nvoid getData   (double* totalIncome, double* taxPaid,\r\n                int*    numOfDpndnts);\r\n\r\nvoid calcTaxes (double  totalIncome, \r\n                double  taxPaid,\r\n                int     numOfDpndnts,\r\n                double* taxableIncome,\r\n                double* totalTax, \r\n                double* taxDue);\r\n\r\nvoid printInformation (double totalIncome,\r\n                       double taxPaid, \r\n                       int    numOfDpndnts, \r\n                       double totalTax,\r\n                       double paidTax,\r\n                       double taxDue);\r\n\r\n\r\n\r\ndouble bracketTax (double income,\r\n                   double startLimit,\r\n                   double stopLimit,\r\n                   int    rate);\r\n\r\nint main (void)\r\n{\r\n//\tLocal Declarations\r\n\tint    numOfDpndnts;\r\n\tdouble taxDue;\r\n\tdouble taxPaid;\r\n\tdouble totalIncome;\r\n\tdouble taxableIncome;\r\n\tdouble totalTax;\r\n\r\n//\tStatements \r\n\tgetData   (&totalIncome,  &taxPaid, &numOfDpndnts);\r\n\tcalcTaxes (totalIncome,    taxPaid,  numOfDpndnts,\r\n\t           &taxableIncome, &totalTax, &taxDue);\r\n\tprintInformation (totalIncome,  taxableIncome,\r\n\t                  numOfDpndnts, totalTax,\r\n\t                  taxPaid,      taxDue);\r\n\treturn 0;\r\n}\t// main \r\n\r\n/*\t=================== getData ================== \r\n\tThis function reads tax data from the keyboard.\r\n\t   Pre  Nothing\r\n\t   Post Reads totalIncome, taxPaid, & numOfDpndnts\r\n*/\r\nvoid getData ( double* totalIncome, double* taxPaid,\r\n               int*    numOfDpndnts)\r\n{\r\n//\tStatements \r\n\tprintf(\"Enter your total income for last year: \");\r\n\tscanf (\"%lf\", totalIncome);\r\n\r\n\tprintf(\"Enter total of payroll deductions    : \");\r\n\tscanf (\"%lf\", taxPaid);\r\n\r\n\tprintf(\"Enter the number of dependents       : \");\r\n\tscanf (\"%d\", numOfDpndnts);\r\n\treturn;\r\n}\t// getData\r\n\r\n/*\t================= calcTaxes ================= \r\n\tThis function calculates the taxes due.\r\n\t   Pre  Given-income, numOfDpndnts, & taxPaid\r\n\t   Post Tax income, total tax, and tax due\r\n\t        calculated\r\n*/\r\n\r\nvoid calcTaxes (double  totInc, \r\n                double  taxPaid, \r\n                int     numOfDpndnts, \r\n                double* taxableInc,\r\n                double* totTax, \r\n                double* taxDue) \r\n{\r\n//\tStatements \r\n\t*taxableInc = totInc - \r\n\t                (numOfDpndnts* DEDN_PER_DPNDNT);\r\n\t*totTax = \r\n\t    bracketTax(*taxableInc, LOWEST, LIMIT1,  RATE1)\r\n\t  + bracketTax(*taxableInc, LIMIT1, LIMIT2,  RATE2)\r\n\t  + bracketTax(*taxableInc, LIMIT2, LIMIT3,  RATE3)\r\n\t  + bracketTax(*taxableInc, LIMIT3, LIMIT4,  RATE4)\r\n\t  + bracketTax(*taxableInc, LIMIT4, HIGHEST, RATE5);\r\n\r\n\t*taxDue = *totTax - taxPaid;\r\n\treturn;\r\n}\t// calcTaxes \r\n\r\n/*\t================= printInformation =================\r\n\tThis function prints a table showing all information.\r\n\t   Pre  The parameter list\r\n\t   Post Prints the table\r\n*/\r\nvoid printInformation (double totalIncome, \r\n                       double income, \r\n                       int    numDpndnts, \r\n                       double totalTax, \r\n                       double paidTax, \r\n                       double dueTax) \r\n{\r\n//\tStatements \r\n\tprintf(\"\\nTotal income          :%10.2f\\n\", \r\n\t       totalIncome);\r\n\tprintf(\"Number of dependents  :%7d\\n\",    numDpndnts);\r\n\tprintf(\"Taxable income        :%10.2f\\n\", income);\r\n\tprintf(\"Total tax             :%10.2f\\n\", totalTax);\r\n\tprintf(\"Tax already paid      :%10.2f\\n\", paidTax);\r\n\r\n\tif (dueTax >= 0.0)\r\n\t    printf(\"Tax due               :%10.2f\\n\", dueTax);\r\n\telse\r\n\t    printf(\"Refund                :%10.2f\\n\", -dueTax);\r\n\treturn;\r\n}\t// printInformation \r\n\r\n/*\t================== bracketTax ================== \r\n\tCalculates the tax for a particular bracket.\r\n\t   Pre    The taxableIncome\r\n\t   Post   Returns the tax for a particular bracket\r\n*/\r\n\r\n\r\n\r\n\r\ndouble bracketTax (double income,    double startLimit,\r\n                   double stopLimit, int    rate)\r\n{ \r\n//\tLocal Declarations \r\n\tdouble tax;\r\n\r\n//\tStatements \r\n\tif (income <= startLimit)\r\n\t    tax = 0.0;\r\n\telse\r\n\t    if (income > startLimit && income <= stopLimit) \r\n\t        tax = (income - startLimit) * rate / 100.00;\r\n\t    else\r\n\t        tax = (stopLimit - startLimit) * rate / 100.00;\r\n\r\n\treturn tax;\r\n}\t// bracketTax "
  },
  "classification": {
    "topics": [],
    "difficulty": ""
  },
  "pedagogy": {
    "learning_objectives": [],
    "instructional_role": "",
    "prerequisites": {
      "topics": [],
      "concepts": [],
      "item_ids": []
    }
  },
  "interaction": {
    "interaction_type": ""
  },
  "delivery": [
    {
      "format": "html",
      "url": "https://acos.cs.vt.edu/html/annotated/acos-annex-cpp/call_by_reference2"
    }
  ],
  "rights": {
    "license": "MIT",
    "license_url": "",
    "usage_notes": ""
  },
  "uses": [],
  "created_at": "2025-12-31T06:04:00.187Z"
}